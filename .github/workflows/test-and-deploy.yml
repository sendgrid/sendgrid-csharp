name: Test and Deploy
on:
  push:
    branches: [ '*' ]
    tags: [ '*' ]
  pull_request:
    branches: [ main ]
  schedule:
    # Run automatically at 8AM PST Monday-Friday
    - cron: '0 15 * * 1-5'
  workflow_dispatch:

jobs:
  test:
    name: Test
    runs-on: ubuntu-latest
    timeout-minutes: 20
    env:
      DOCKER_LOGIN: ${{ secrets.DOCKER_USERNAME && secrets.DOCKER_AUTH_TOKEN }}
    steps:
      - name: Checkout sendgrid-csharp
        uses: actions/checkout@v2
        with:
          fetch-depth: 0

      - name: Login to Docker Hub
        if: env.DOCKER_LOGIN
        uses: docker/login-action@v1
        with:
          username: ${{ secrets.DOCKER_USERNAME }}
          password: ${{ secrets.DOCKER_AUTH_TOKEN }}

      - name: Setup .NET Core SDK
        uses: actions/setup-dotnet@v1.8.2
        with:
          dotnet-version: '3.1.x'

      - run: dotnet build -c Release
      - name: Build & Test
        run: make test-docker release
      - run: bash <(curl -s https://codecov.io/bash)

  import-certificate:
    runs-on: windows-latest
    steps:
     - uses: actions/checkout@v2
     - run: make install
     - name: import-certificate
       run: |
        New-Item -ItemType directory -Path certificate
        Set-Content -Path certificate\certificate.txt -Value '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'
        certutil -decode certificate\certificate.txt certificate\certificate.pfx
        
     - name: Upload Artifact
       uses: actions/upload-artifact@v3
       with:
         name: certificate.pem
         path: certificate\certificate.pem
         retention-days: 1
         
  deploy:
    name: Deploy
    if: success() && github.ref_type == 'tag'
    needs: [ test ]
    runs-on: ubuntu-latest
    steps:
      - name: Checkout sendgrid-csharp
        uses: actions/checkout@v2

      - name: Setup .NET Core SDK
        uses: actions/setup-dotnet@v1.8.2
        with:
          dotnet-version: '3.1.x'

      - name: Create GitHub Release
        uses: sendgrid/dx-automator/actions/release@main
        with:
          footer: '**[NuGet](https://www.nuget.org/packages/Sendgrid/${version})**'
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: Publish package to NuGet
        run: |
          make release
          dotnet nuget sign **/*.nupkg --certificate-path certificate.pfx --certificate-password ${{ secrets.CERTIFICATE_PASSWORD }} --timestamper http://timestamp.digicert.com 
          dotnet nuget push **/*.nupkg -k ${{ secrets.NUGET_API_KEY }} -s https://api.nuget.org/v3/index.json --skip-duplicate

      - name: Submit metric to Datadog
        uses: sendgrid/dx-automator/actions/datadog-release-metric@main
        env:
          DD_API_KEY: ${{ secrets.DATADOG_API_KEY }}

  notify-on-failure:
    name: Slack notify on failure
    if: failure() && github.event_name != 'pull_request' && (github.ref == 'refs/heads/main' || github.ref_type == 'tag')
    needs: [ test, deploy ]
    runs-on: ubuntu-latest
    steps:
      - uses: rtCamp/action-slack-notify@v2
        env:
          SLACK_COLOR: failure
          SLACK_ICON_EMOJI: ':github:'
          SLACK_MESSAGE: ${{ format('Test *{0}*, Deploy *{1}*, {2}/{3}/actions/runs/{4}', needs.test.result, needs.deploy.result, github.server_url, github.repository, github.run_id) }}
          SLACK_TITLE: Action Failure - ${{ github.repository }}
          SLACK_USERNAME: GitHub Actions
          SLACK_MSG_AUTHOR: twilio-dx
          SLACK_FOOTER: Posted automatically using GitHub Actions
          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
          MSG_MINIMAL: true
